<!doctype html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>RSMS – Alle Dashboards (Demo)</title>
  <style>
    :root {
      --primary: #1565c0;
      --primary-light: #1e88e5;
      --primary-soft: #e3f2fd;
      --bg: #f3f5f7;
      --card-bg: #ffffff;
      --border: #dde2eb;
      --text-main: #222;
      --text-muted: #6f7a88;
      --danger: #d32f2f;
      --danger-soft: #ffebee;
      --warning: #f9a825;
      --warning-soft: #fff8e1;
      --success: #2e7d32;
      --success-soft: #e8f5e9;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background-color: var(--bg);
      color: var(--text-main);
    }

    .layout {
      display: grid;
      grid-template-columns: 260px 1fr;
      grid-template-rows: 64px 1fr;
      height: 100vh;
      grid-template-areas:
        "sidebar header"
        "sidebar main";
    }

    .header {
      grid-area: header;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      z-index: 2;
    }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .header-title {
      font-size: 19px;
      font-weight: 600;
    }

    .header-subtitle {
      font-size: 12px;
      opacity: 0.9;
    }

    .header-right {
      font-size: 12px;
      opacity: 0.95;
    }

    .sidebar {
      grid-area: sidebar;
      background-color: #101827;
      color: #cbd5f5;
      padding-top: 64px;
      display: flex;
      flex-direction: column;
      border-right: 1px solid #0b1220;
    }

    .sidebar h2 {
      font-size: 13px;
      font-weight: 600;
      padding: 16px 18px 6px 18px;
      color: #9ca3c8;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .nav-list {
      list-style: none;
      padding: 4px 0 16px 0;
    }

    .nav-item {
      padding: 8px 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      font-size: 14px;
      color: #e5e7ff;
      user-select: none;
      transition: background 0.15s, color 0.15s, padding-left 0.15s;
      border-left: 3px solid transparent;
    }

    .nav-item:hover {
      background-color: rgba(148, 163, 255, 0.15);
      padding-left: 22px;
    }

    .nav-item.active {
      background-color: rgba(59, 130, 246, 0.15);
      border-left-color: #60a5fa;
      padding-left: 22px;
      font-weight: 600;
      color: #ffffff;
    }

    .nav-icon {
      width: 16px;
      height: 16px;
      display: inline-block;
      margin-right: 10px;
      border-radius: 4px;
      background: linear-gradient(135deg, #60a5fa, #818cf8);
      opacity: 0.85;
    }

    .main {
      grid-area: main;
      padding: 86px 24px 24px 24px;
      overflow-y: auto;
    }

    .page-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .page-subtitle {
      font-size: 13px;
      margin-bottom: 20px;
      color: var(--text-muted);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 16px;
    }

    .card {
      background-color: var(--card-bg);
      border-radius: 8px;
      padding: 16px 18px;
      box-shadow: 0 1px 3px rgba(15,23,42,0.08);
      border: 1px solid var(--border);
    }

    .card-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #4b5563;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .card-content {
      font-size: 14px;
    }

    .status-traffic-light {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
    }

    .status-circle {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid #ccc;
      background-color: var(--success-soft);
    }

    .status-circle.yellow {
      background-color: var(--warning-soft);
      border-color: var(--warning);
    }

    .status-circle.red {
      background-color: var(--danger-soft);
      border-color: var(--danger);
    }

    .status-label {
      font-weight: 600;
    }

    .small-text {
      font-size: 12px;
      color: var(--text-muted);
    }

    .top-risks-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 13px;
    }

    .top-risks-table thead tr {
      background-color: #f1f5f9;
    }

    .top-risks-table th,
    .top-risks-table td {
      padding: 6px 8px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }

    .top-risks-table th {
      font-size: 12px;
      font-weight: 600;
      color: #4b5563;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .severity-pill {
      display: inline-block;
      padding: 2px 7px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 600;
      color: #fff;
    }

    .severity-critical {
      background-color: var(--danger);
    }
    .severity-high {
      background-color: #f97316;
    }
    .severity-medium {
      background-color: #facc15;
      color: #1f2933;
    }

    .kpi-value {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .kpi-label {
      font-size: 12px;
      color: var(--text-muted);
    }

    .kpi-trend {
      font-size: 12px;
      margin-top: 4px;
    }

    .trend-up {
      color: var(--danger);
    }

    .trend-down {
      color: var(--success);
    }

    .trend-stable {
      color: var(--text-muted);
    }

    .two-column {
      grid-column: span 6;
    }

    .full-width {
      grid-column: span 12;
    }

    .one-quarter {
      grid-column: span 3;
    }

    .half-width {
      grid-column: span 6;
    }

    .kanban-board {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      padding-bottom: 4px;
    }

    .kanban-column {
      min-width: 220px;
      background-color: #f9fafb;
      border-radius: 6px;
      border: 1px solid #e5e7eb;
      padding: 8px;
      max-height: 420px;
      display: flex;
      flex-direction: column;
    }

    .kanban-column-title {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 8px;
      text-transform: uppercase;
      color: #4b5563;
      letter-spacing: 0.06em;
    }

    .kanban-card {
      background-color: #ffffff;
      border-radius: 4px;
      padding: 8px;
      margin-bottom: 8px;
      font-size: 13px;
      box-shadow: 0 1px 2px rgba(15,23,42,0.06);
      border: 1px solid #e5e7eb;
    }

    .kanban-card-title {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .kanban-card-meta {
      font-size: 11px;
      color: var(--text-muted);
    }

    .form-field {
      margin-bottom: 10px;
      font-size: 13px;
    }

    .form-field label {
      display: block;
      margin-bottom: 3px;
      font-weight: 600;
      font-size: 12px;
      color: #4b5563;
    }

    .form-field input,
    .form-field select,
    .form-field textarea {
      width: 100%;
      padding: 6px 8px;
      border-radius: 4px;
      border: 1px solid #d1d5db;
      font-size: 13px;
      background-color: #f9fafb;
    }

    .form-field textarea {
      resize: vertical;
    }

    .pill-badge {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 11px;
      background-color: var(--primary-soft);
      color: var(--primary);
      margin-right: 4px;
      margin-bottom: 4px;
    }

    .matrix-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      margin-top: 8px;
    }

    .matrix-table th,
    .matrix-table td {
      border: 1px solid #e5e7eb;
      padding: 6px 8px;
      text-align: center;
    }

    .matrix-table th {
      background-color: #f3f4f6;
      font-size: 12px;
      font-weight: 600;
      color: #4b5563;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .zone-badge {
      display: inline-block;
      padding: 2px 7px;
      border-radius: 4px;
      font-size: 11px;
      color: #fff;
      font-weight: 500;
    }

    .zone-high {
      background-color: var(--danger);
    }
    .zone-elevated {
      background-color: #f59e0b;
    }
    .zone-standard {
      background-color: var(--primary);
    }
    .zone-public {
      background-color: #6b7280;
    }

    .view {
      display: none;
    }
    .view.active {
      display: block;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: 1fr;
        grid-template-rows: 64px auto auto;
        grid-template-areas:
          "header"
          "sidebar"
          "main";
      }

      .sidebar {
        padding-top: 0;
        border-right: none;
        border-bottom: 1px solid #0b1220;
      }

      .main {
        padding-top: 20px;
      }

      .two-column,
      .full-width,
      .one-quarter,
      .half-width {
        grid-column: span 12;
      }
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h2>Dashboards</h2>
      <ul class="nav-list">
        <li class="nav-item active" data-view="portfolio">
          <span class="nav-icon"></span>
          Portfolio
        </li>
        <li class="nav-item" data-view="process">
          <span class="nav-icon"></span>
          Prozess (Kanban)
        </li>
        <li class="nav-item" data-view="input">
          <span class="nav-icon"></span>
          Input (Formulare/AI)
        </li>
        <li class="nav-item" data-view="framework">
          <span class="nav-icon"></span>
          Framework/Governance
        </li>
        <li class="nav-item" data-view="object">
          <span class="nav-icon"></span>
          Objekt/Pläne
        </li>
        <li class="nav-item" data-view="executive">
          <span class="nav-icon"></span>
          Executive
        </li>
        <li class="nav-item" data-view="risk">
          <span class="nav-icon"></span>
          Risiken & Maßnahmen
        </li>
        <li class="nav-item" data-view="emergency">
          <span class="nav-icon"></span>
          Emergency & Crisis
        </li>
      </ul>
    </aside>

    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="header-title">RSMS – Risk Security Management System</div>
        <div class="header-subtitle">Visual Mockups der 8 Kern-Dashboards (basierend auf SRS)</div>
      </div>
      <div class="header-right">
        Rolle: Management &amp; Consultants
      </div>
    </header>

    <!-- Hauptbereich -->
    <main class="main">
      <!-- Portfolio Dashboard -->
      <section class="view active" id="view-portfolio">
        <div class="page-title">Portfolio Dashboard</div>
        <div class="page-subtitle">
          Übersicht über alle Sicherheitsprojekte, Status, Gate-Fortschritt und zentrale KPIs.
        </div>

        <div class="grid" style="margin-bottom: 16px;">
          <div class="card half-width">
            <div class="card-title">Projektübersicht</div>
            <div class="card-content">
              <table class="top-risks-table">
                <thead>
                  <tr>
                    <th>Projekt</th>
                    <th>Typ</th>
                    <th>Status</th>
                    <th>Risiko-Ampel</th>
                    <th>PM</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>PRJ-001 Headquarters Security</td>
                    <td>Object Protection</td>
                    <td>Implementation</td>
                    <td><span class="severity-pill severity-critical">Critical</span></td>
                    <td>J. Müller</td>
                  </tr>
                  <tr>
                    <td>PRJ-002 Cyber Resilience</td>
                    <td>IT Protection</td>
                    <td>Planning</td>
                    <td><span class="severity-pill severity-high">High</span></td>
                    <td>S. Becker</td>
                  </tr>
                  <tr>
                    <td>PRJ-003 Event Summit 2026</td>
                    <td>Event Security</td>
                    <td>Operation</td>
                    <td><span class="severity-pill severity-medium">Medium</span></td>
                    <td>L. Wagner</td>
                  </tr>
                  <tr>
                    <td>PRJ-004 Travel Security APAC</td>
                    <td>Travel Security</td>
                    <td>Planning</td>
                    <td><span class="severity-pill severity-medium">Medium</span></td>
                    <td>M. Fischer</td>
                  </tr>
                </tbody>
              </table>
              <div class="small-text" style="margin-top: 8px;">
                Im System würde ein Klick auf ein Projekt in dessen Detailansicht wechseln.
              </div>
            </div>
          </div>

          <div class="card half-width">
            <div class="card-title">Portfolio-KPIs</div>
            <div class="card-content">
              <div class="grid">
                <div class="card half-width" style="box-shadow:none; border:1px dashed var(--border);">
                  <div class="kpi-value">12</div>
                  <div class="kpi-label">aktive Projekte</div>
                  <div class="kpi-trend trend-up">▲ +2 vs. Vorjahr</div>
                </div>
                <div class="card half-width" style="box-shadow:none; border:1px dashed var(--border);">
                  <div class="kpi-value">4</div>
                  <div class="kpi-label">Projekte im kritischen Status</div>
                  <div class="kpi-trend trend-up">▲ +1</div>
                </div>
                <div class="card half-width" style="box-shadow:none; border:1px dashed var(--border);">
                  <div class="kpi-value">68%</div>
                  <div class="kpi-label">Durchschnittlicher Maßnahmen-Fortschritt</div>
                  <div class="kpi-trend trend-stable">■ stabil</div>
                </div>
                <div class="card half-width" style="box-shadow:none; border:1px dashed var(--border);">
                  <div class="kpi-value">74%</div>
                  <div class="kpi-label">Budgetverbrauch (gesamt)</div>
                  <div class="kpi-trend trend-down">▼ -3% vs. Plan</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="grid">
          <div class="card full-width">
            <div class="card-title">Projektphasen-Status (9-Phasen-Workflow)</div>
            <div class="card-content">
              <table class="matrix-table">
                <thead>
                  <tr>
                    <th>Projekt</th>
                    <th>1</th>
                    <th>2</th>
                    <th>3</th>
                    <th>4</th>
                    <th>5</th>
                    <th>6</th>
                    <th>7</th>
                    <th>8</th>
                    <th>9</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>HQ Security</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>●</td>
                    <td>○</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                  </tr>
                  <tr>
                    <td>Cyber Resilience</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>●</td>
                    <td>○</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                  </tr>
                  <tr>
                    <td>Event Summit 2026</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>✔</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                    <td>●</td>
                  </tr>
                </tbody>
              </table>
              <div class="small-text" style="margin-top: 8px;">
                Legende: ✔ abgeschlossen · ● in Arbeit · ○ geplant · - nicht gestartet.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Process Dashboard (Kanban) -->
      <section class="view" id="view-process">
        <div class="page-title">Process Dashboard (Kanban)</div>
        <div class="page-subtitle">
          Visualisierung aller Workflow-Items über den 9-Phasen-Prozess (Backlog bis Done).
        </div>

        <div class="card full-width">
          <div class="card-title">Projekt: HQ Security – Kanban Board</div>
          <div class="card-content">
            <div class="kanban-board">
              <div class="kanban-column">
                <div class="kanban-column-title">Backlog</div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Kick-off vorbereiten</div>
                  <div class="kanban-card-meta">Typ: Task · Fällig: 10.01.</div>
                </div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Stakeholder-Analyse</div>
                  <div class="kanban-card-meta">Typ: Task · Fällig: 12.01.</div>
                </div>
              </div>

              <div class="kanban-column">
                <div class="kanban-column-title">In Process</div>
                <div class="kanban-card">
                  <div class="kanban-card-title">PMESII-PT Analyse Standort A</div>
                  <div class="kanban-card-meta">Typ: Analyse · Verantwortlich: Consultant</div>
                </div>
                <div class="kanban-card">
                  <div class="kanban-card-title">CARVER-Assessment Rechenzentrum</div>
                  <div class="kanban-card-meta">Typ: Analyse · Fällig: 15.01.</div>
                </div>
              </div>

              <div class="kanban-column">
                <div class="kanban-column-title">Blocked</div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Vertragsunterlagen Kunde</div>
                  <div class="kanban-card-meta">Warten auf: Legal · Fällig: 08.01.</div>
                </div>
              </div>

              <div class="kanban-column">
                <div class="kanban-column-title">Waiting</div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Freigabe Gate G3</div>
                  <div class="kanban-card-meta">Warten auf: Risk Owner</div>
                </div>
              </div>

              <div class="kanban-column">
                <div class="kanban-column-title">Review</div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Risiko-Register Entwurf</div>
                  <div class="kanban-card-meta">Reviewer: Projektmanager</div>
                </div>
              </div>

              <div class="kanban-column">
                <div class="kanban-column-title">Done</div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Gate G1 – Projektinitiierung</div>
                  <div class="kanban-card-meta">Abgeschlossen: 03.01.</div>
                </div>
                <div class="kanban-card">
                  <div class="kanban-card-title">Gate G2 – Kontext validiert</div>
                  <div class="kanban-card-meta">Abgeschlossen: 07.01.</div>
                </div>
              </div>
            </div>
            <div class="small-text" style="margin-top: 8px;">
              Im produktiven System wären Karten drag & drop-fähig, inkl. Filter und Swimlanes.
            </div>
          </div>
        </div>
      </section>

      <!-- Input Dashboard -->
      <section class="view" id="view-input">
        <div class="page-title">Input Dashboard (Formulare, Checklisten, AI)</div>
        <div class="page-subtitle">
          Zentrale Erfassung von Projektdaten, Kontext und Analysen (PMESII-PT, CARVER, MK-SALUTE).
        </div>

        <!-- ... (Rest deiner Dashboards unverändert) ... -->

      <!-- Framework, Object, Executive, Risk, Emergency bleiben wie oben in deiner Version -->
      <!-- Ich kürze hier für die Übersicht, du kannst sie aus deiner Datei übernehmen -->
    </main>
  </div>

 <script>
    // === View-Navigation (Sidebar) ===
    (function() {
      const navItems = document.querySelectorAll('.nav-item');
      const views = document.querySelectorAll('.view');

      function showView(name) {
        views.forEach(v => {
          if (v.id === 'view-' + name) {
            v.classList.add('active');
          } else {
            v.classList.remove('active');
          }
        });
      }

      navItems.forEach(item => {
        item.addEventListener('click', () => {
          const name = item.getAttribute('data-view');
          if (!name) return;

          navItems.forEach(i => i.classList.remove('active'));
          item.classList.add('active');
          showView(name);
        });
      });

      // Initial: Portfolio anzeigen
      showView('portfolio');
    })();

    // === Daten aus statischen JSON-Dateien laden ===
    const DATA_BASE = './data';

    async function loadJson(file) {
      const res = await fetch(`${DATA_BASE}/${file}`);
      if (!res.ok) throw new Error(`HTTP ${res.status} beim Laden von ${file}`);
      return await res.json();
    }

    // --- Portfolio (Projects) ---
    async function initPortfolio() {
      try {
        const projects = await loadJson('projects.json');
        renderPortfolioProjects(projects);
        renderPortfolioPhases(projects);
      } catch (err) {
        console.warn('Konnte projects.json nicht laden, nutze statische Demos:', err);
      }
    }

    function renderPortfolioProjects(projects) {
      const table = document.querySelector('#view-portfolio table.top-risks-table tbody');
      if (!table) return;
      table.innerHTML = '';

      projects.forEach(p => {
        const tr = document.createElement('tr');

        const tdName = document.createElement('td');
        tdName.textContent = `${p.id} ${p.name}`;

        const tdType = document.createElement('td');
        tdType.textContent = p.type || '';

        const tdStatus = document.createElement('td');
        tdStatus.textContent = p.status || '';

        const tdRisk = document.createElement('td');
        const span = document.createElement('span');
        span.classList.add('severity-pill');
        if (p.riskLevel === 'Critical') span.classList.add('severity-critical');
        else if (p.riskLevel === 'High') span.classList.add('severity-high');
        else span.classList.add('severity-medium');
        span.textContent = p.riskLevel || 'Medium';
        tdRisk.appendChild(span);

        const tdPM = document.createElement('td');
        tdPM.textContent = p.projectManager || '';

        tr.appendChild(tdName);
        tr.appendChild(tdType);
        tr.appendChild(tdStatus);
        tr.appendChild(tdRisk);
        tr.appendChild(tdPM);

        table.appendChild(tr);
      });
    }

    function renderPortfolioPhases(projects) {
      const body = document.querySelector('#view-portfolio table.matrix-table tbody');
      if (!body) return;
      body.innerHTML = '';

      projects.forEach(p => {
        const tr = document.createElement('tr');

        const tdProject = document.createElement('td');
        tdProject.textContent = p.name || p.id;
        tr.appendChild(tdProject);

        for (let i = 0; i < 9; i++) {
          const td = document.createElement('td');
          const v = (p.phases || [])[i];

          if (v === true) {
            td.textContent = '✔';
          } else if (v === 'in-progress') {
            td.textContent = '●';
          } else if (v === 'planned') {
            td.textContent = '○';
          } else {
            td.textContent = '-';
          }

          tr.appendChild(td);
        }

        body.appendChild(tr);
      });
    }

    // --- Executive (Risks) ---
    async function initExecutive() {
      try {
        const risks = await loadJson('risks.json');
        renderExecutiveTopRisks(risks);
        renderExecutiveKPIs(risks);
      } catch (err) {
        console.warn('Konnte risks.json nicht laden, nutze statische Demos:', err);
      }
    }

    function renderExecutiveTopRisks(risks) {
      const tbody = document.querySelector('#view-executive table.top-risks-table tbody');
      if (!tbody) return;
      tbody.innerHTML = '';

      // Top 5 nach Criticality
      const top = [...risks]
        .sort((a, b) => b.criticality - a.criticality)
        .slice(0, 5);

      top.forEach(risk => {
        const tr = document.createElement('tr');

        const tdTitle = document.createElement('td');
        tdTitle.textContent = `${risk.id}: ${risk.title}`;

        const tdOwner = document.createElement('td');
        tdOwner.textContent = risk.owner || '';

        const tdResidual = document.createElement('td');
        const span = document.createElement('span');
        span.classList.add('severity-pill');
        if (risk.residualLevel === 'Critical') span.classList.add('severity-critical');
        else if (risk.residualLevel === 'High') span.classList.add('severity-high');
        else span.classList.add('severity-medium');
        span.textContent = risk.residualLevel || 'Medium';
        tdResidual.appendChild(span);

        const tdStatus = document.createElement('td');
        tdStatus.textContent = risk.status || '';

        tr.appendChild(tdTitle);
        tr.appendChild(tdOwner);
        tr.appendChild(tdResidual);
        tr.appendChild(tdStatus);

        tbody.appendChild(tr);
      });
    }

    function renderExecutiveKPIs(risks) {
      const totalCritical = risks.filter(r => r.residualLevel === 'Critical').length;
      const totalHigh = risks.filter(r => r.residualLevel === 'High').length;
      const totalMedium = risks.filter(r => r.residualLevel === 'Medium').length;

      // Karte: Kritische Risiken (2. Card im Executive-Grid)
      const criticalElem = document.querySelector('#view-executive .grid:nth-of-type(1) .card:nth-of-type(2) .kpi-value');
      if (criticalElem) criticalElem.textContent = String(totalCritical);

      // Optional könntest du auch andere KPIs dynamisch machen,
      // z.B. Gesamtanzahl Risiken in einer freien Karte etc.
      console.log('Risiko-Verteilung:', { totalCritical, totalHigh, totalMedium });
    }

    // Initialisierung beim Laden
    initPortfolio();
    initExecutive();
  </script>
</body>
</html>
